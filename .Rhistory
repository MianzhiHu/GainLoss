baseline_CA <- CA %>%
filter(Condition == 'Baseline')
frequency_CA <- CA %>%
filter(Condition == 'Frequency')
training_wider <- training %>%
pivot_wider(id_cols = c(Subnum, Condition),
names_from = TrialType,
values_from = BestOption)
training_wider_baseline <- training_wider %>%
filter(Condition == 'Baseline')
training_wider_frequency <- training_wider %>%
filter(Condition == 'Frequency')
training_separate <- data %>%
filter(TrialType %in% c("AB", "CD", "CA", "CB", "AD", "BD")) %>%
# join CD training accuracy
left_join(
data %>%
filter(TrialType == "CD") %>%
dplyr::select(Subnum, Condition, training_accuracy_CD = BestOption),
by = c("Subnum", "Condition")
) %>%
# join AB training accuracy
left_join(
data %>%
filter(TrialType == "AB") %>%
dplyr::select(Subnum, Condition, training_accuracy_AB = BestOption),
by = c("Subnum", "Condition")
) %>%
# remove AB and CD rows (keep only test trials)
filter(!(TrialType %in% c("AB","CD")))
model <- lmer(BestOption ~ training_accuracy_CD * Condition * TrialType + (1|Subnum), data = training_separate)
summary(model)
plot(allEffects(model))
# Accuracy predicted by AB and CD separately
training_separate <- data %>%
filter(TrialType %in% c("AB", "CD", "CA")) %>%
# join CD training accuracy
left_join(
data %>%
filter(TrialType == "CD") %>%
dplyr::select(Subnum, Condition, training_accuracy_CD = BestOption),
by = c("Subnum", "Condition")
) %>%
# join AB training accuracy
left_join(
data %>%
filter(TrialType == "AB") %>%
dplyr::select(Subnum, Condition, training_accuracy_AB = BestOption),
by = c("Subnum", "Condition")
) %>%
# remove AB and CD rows (keep only test trials)
filter(!(TrialType %in% c("AB","CD")))
model <- lmer(BestOption ~ training_accuracy_CD * Condition * TrialType + (1|Subnum), data = training_separate)
training_separate <- data %>%
filter(TrialType %in% c("AB", "CD", "CA")) %>%
# join CD training accuracy
left_join(
data %>%
filter(TrialType == "CD") %>%
dplyr::select(Subnum, Condition, training_accuracy_CD = BestOption),
by = c("Subnum", "Condition")
) %>%
# join AB training accuracy
left_join(
data %>%
filter(TrialType == "AB") %>%
dplyr::select(Subnum, Condition, training_accuracy_AB = BestOption),
by = c("Subnum", "Condition")
) %>%
# remove AB and CD rows (keep only test trials)
filter(!(TrialType %in% c("AB","CD")))
model <- lmer(BestOption ~ training_accuracy_CD * Condition + (1|Subnum), data = training_separate)
summary(model)
plot(allEffects(model))
model <- lmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum), data = training_separate)
summary(model)
plot(allEffects(model))
data <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/E2_data_modeled.csv")
data <- data %>%
left_join(
accuracy_wide %>% dplyr::select(Subnum, TrialType, BestOption_Baseline),
by = c("Subnum", "TrialType")
) %>%
left_join(
model_data %>% dplyr::select(Subnum, alpha_neg, weight),
by = "Subnum"
) %>%
mutate(
Condition = factor(Condition, levels = c("Baseline","Frequency")),
TrialType = factor(TrialType, levels = c("CA","AB","CD","CB","BD","AD"))
)
data <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/E2_data_modeled.csv")
data$Condition <- factor(data$Condition, levels = c('Baseline', 'Frequency'))
data$TrialType <- factor(data$TrialType, levels = c('CA', 'AB', 'CD', 'CB', 'BD', 'AD'))
data$Gender <- factor(data$Gender, levels = c("Female", "Male", "Other", "Prefer not to answer"))
training_separate <- data %>%
filter(TrialType %in% c("AB", "CD", "CA")) %>%
# join CD training accuracy
left_join(
data %>%
filter(TrialType == "CD") %>%
dplyr::select(Subnum, Condition, training_accuracy_CD = BestOption),
by = c("Subnum", "Condition")
) %>%
# join AB training accuracy
left_join(
data %>%
filter(TrialType == "AB") %>%
dplyr::select(Subnum, Condition, training_accuracy_AB = BestOption),
by = c("Subnum", "Condition")
) %>%
# remove AB and CD rows (keep only test trials)
filter(!(TrialType %in% c("AB","CD")))
data <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/E2_summary_modeled.csv")
data$Condition <- factor(data$Condition, levels = c('Baseline', 'Frequency'))
data$TrialType <- factor(data$TrialType, levels = c('CA', 'AB', 'CD', 'CB', 'BD', 'AD'))
data$group_baseline <- factor(data$group_baseline, levels = c(1, 2, 3),
labels = c('Good Learner', 'Average Learner', 'Bad Learner'))
data$group_frequency <- factor(data$group_frequency, levels = c(1, 2, 3),
labels = c('Good Learner', 'Average Learner', 'Bad Learner'))
unique(data$group_frequency)
data$Gender <- factor(data$Gender, levels = c("Female", "Male", "Other", "Prefer not to answer"))
data$Ethnicity <- factor(data$Ethnicity, levels = c("Hispanic or Latino", "Not Hispanic or Latino","Prefer not to answer"))
data$Race <- factor(data$Race, levels = c("More than one Race", "White", "Asian",
"Prefer not to answer", "Black or African American",
"American Indian or Alaskan Native",
"Native Hawaiin or Other Pacific Islander"))
individual_data <- data %>%
dplyr::select(Subnum, group_baseline, prob1_baseline, prob2_baseline, prob3_baseline,
group_frequency, prob1_frequency, prob2_frequency, prob3_frequency,
Gender, Ethnicity, Race, Age, Big5O, Big5C,
Big5E, Big5A, Big5N, BISScore, CESDScore, ESIBF_disinhScore,
ESIBF_aggreScore, ESIBF_sScore, PSWQScore, STAITScore, STAISScore,
t, alpha, subj_weight,
t_All, alpha_All, subj_weight_All) %>%
distinct(Subnum, .keep_all = TRUE)
training <- data %>%
filter(TrialType%in%c('AB', 'CD'))
testing <- data %>%
filter(TrialType%in%c('CA', 'CB', 'BD', 'AD'))
BD <- data %>%
filter(TrialType == 'BD')
CB <- data %>%
filter(TrialType == 'CB')
AD <- data %>%
filter(TrialType == 'AD')
accuracy_wide <- data %>%
pivot_wider(id_cols = c(Subnum, TrialType, group_baseline, group_frequency,
C_diff, t_All, alpha_All, subj_weight_All),
names_from = Condition,
values_from = c(BestOption, training_accuracy, t, alpha, subj_weight))
accuracy_wide_CA <- accuracy_wide %>%
filter(TrialType == 'CA')
accuracy_wide_AB <- accuracy_wide %>%
filter(TrialType == 'AB')
CA <- data %>%
filter(TrialType == 'CA')%>%
left_join(accuracy_wide_CA %>% dplyr::select(Subnum, BestOption_Baseline),by = "Subnum")
baseline_CA <- CA %>%
filter(Condition == 'Baseline')
frequency_CA <- CA %>%
filter(Condition == 'Frequency')
# Accuracy predicted by AB and CD separately
training_separate <- data %>%
filter(TrialType %in% c("AB", "CD", "CA")) %>%
# join CD training accuracy
left_join(
data %>%
filter(TrialType == "CD") %>%
dplyr::select(Subnum, Condition, training_accuracy_CD = BestOption),
by = c("Subnum", "Condition")
) %>%
# join AB training accuracy
left_join(
data %>%
filter(TrialType == "AB") %>%
dplyr::select(Subnum, Condition, training_accuracy_AB = BestOption),
by = c("Subnum", "Condition")
) %>%
# remove AB and CD rows (keep only test trials)
filter(!(TrialType %in% c("AB","CD")))
model_summary <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/model_summary.csv")
data <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/E2_data_modeled.csv")
data <- data %>%
left_join(
accuracy_wide %>% dplyr::select(Subnum, TrialType, BestOption_Baseline),
by = c("Subnum", "TrialType")
) %>%
left_join(
training_separate %>% dplyr::select(Subnum, training_accuracy_AB, training_accuracy_CD),
by = "Subnum"
) %>%
mutate(
Condition = factor(Condition, levels = c("Baseline","Frequency")),
TrialType = factor(TrialType, levels = c("CA","AB","CD","CB","BD","AD"))
)
data <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/E2_data_modeled.csv")
data <- data %>%
left_join(
accuracy_wide %>% dplyr::select(Subnum, TrialType, BestOption_Baseline),
by = c("Subnum", "TrialType")
) %>%
left_join(
training_separate %>% dplyr::select(Subnum, training_accuracy_AB, training_accuracy_CD),
by = "Subnum"
)
data <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/E2_data_modeled.csv")
data <- data %>%
left_join(
accuracy_wide %>% dplyr::select(Subnum, TrialType, BestOption_Baseline),
by = c("Subnum", "TrialType")
) %>%
left_join(
training_separate %>% dplyr::select(Subnum, Condition, training_accuracy_AB, training_accuracy_CD),
by = c("Subnum", "Condition")
) %>%
mutate(
Condition = factor(Condition, levels = c("Baseline","Frequency")),
TrialType = factor(TrialType, levels = c("CA","AB","CD","CB","BD","AD"))
)
CA <- data %>%
filter(TrialType == 'CA')
model <- glmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum), data = CA)
summary(model)
plot(allEffects(model))
library(ggplot2)
library(lme4)
library(lmerTest)
library(effects)
library(tidyr)
library(dplyr)
library(mgcv)
library(sjPlot)
library(segmented)
library(survival)
library(car)
library(emmeans)
library(nnet)
library(MASS)
library(lavaan)
library(ez)
library(semPlot)
library(purrr)
model <- glmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum), data = CA)
summary(model)
model <- glmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum)ï¼Œfamily=binomial, data = CA)
model <- glmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum), family=binomial, data = CA)
summary(model)
plot(allEffects(model))
model <- lmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum), data = training_separate)
summary(model)
plot(allEffects(model))
model <- glmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum), family=binomial, data = CA)
summary(model)
plot(allEffects(model))
model <- glmer(BestOption ~ training_accuracy + (1|Subnum),
family=binomial, data = baseline_CA)
summary(model)
plot(allEffects(model))
data <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/E2_data_modeled.csv")
data <- data %>%
left_join(
accuracy_wide %>% dplyr::select(Subnum, TrialType, BestOption_Baseline),
by = c("Subnum", "TrialType")
) %>%
left_join(
training_separate %>% dplyr::select(Subnum, Condition, training_accuracy_AB, training_accuracy_CD),
by = c("Subnum", "Condition")
) %>%
mutate(
Condition = factor(Condition, levels = c("Baseline","Frequency")),
TrialType = factor(TrialType, levels = c("CA","AB","CD","CB","BD","AD"))
)
frequency <- data %>%
filter(Condition == 'Frequency')
CA <- data %>%
filter(TrialType == 'CA')
BD <- data %>%
filter(TrialType == 'BD')
CB <- data %>%
filter(TrialType == 'CB')
AD <- data %>%
filter(TrialType == 'AD')
baseline_CA <- CA %>%
filter(Condition == 'Baseline')
frequency_CA <- CA %>%
filter(Condition == 'Frequency')
model <- glmer(BestOption ~ training_accuracy + (1|Subnum),
family=binomial, data = baseline_CA)
summary(model)
plot(allEffects(model))
model <- glmer(BestOption ~ training_accuracy * Condition + (1|Subnum),
family=binomial, data = CB)
summary(model)
plot(allEffects(model))
model <- glmer(BestOption ~ training_accuracy * Condition + (1|Subnum),
family=binomial, data = CA)
summary(model)
plot(allEffects(model))
model <- glmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum), family=binomial, data = CA)
summary(model)
plot(allEffects(model))
plot(allEffects(model))
model <- glmer(BestOption ~ training_accuracy_CD * Condition + (1|Subnum), family=binomial, data = CA)
summary(model)
plot(allEffects(model))
model <- lmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum), data = training_separate)
summary(model)
plot(allEffects(model))
model <- glmer(BestOption ~ training_accuracy_CD * Condition + (1|Subnum), family=binomial, data = CA)
summary(model)
plot(allEffects(model))
model <- glmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum), family=binomial, data = CA)
summary(model)
plot(allEffects(model))
model <- glmer(BestOption ~ training_accuracy_CD * Condition + (1|Subnum), family=binomial, data = CA)
summary(model)
plot(allEffects(model))
model <- glmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum), family=binomial, data = CA)
summary(model)
plot(allEffects(model))
plot(allEffects(model))
model <- glmer(BestOption ~ training_accuracy_CD * Condition + (1|Subnum), family=binomial, data = CA)
summary(model)
plot(allEffects(model))
plot(allEffects(model), xlab="CD Training Accuracy",
ylab='Probability Selecting C in CA Trials',
main='CA Accuracy ~ CD Training Accuracy * Condition')
model <- glmer(BestOption ~ training_accuracy_AB * Condition + (1|Subnum), family=binomial, data = CA)
summary(model)
plot(allEffects(model), xlab="AB Training Accuracy",
ylab='Probability Selecting C in CA Trials',
main='CA Accuracy ~ AB Training Accuracy * Condition')
model_summary <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/model_summary.csv")
model_summary <- model_summary %>%
left_join(CA %>% dplyr::select(Subnum, Condition, BestOption, BestOption_Baseline, training_accuracy),by = c("Subnum", "Condition"))
model_summary$Condition <- factor(model_summary$Condition, levels = c('Baseline', 'Frequency'))
model_summary_baseline <- model_summary %>%
filter(Condition == 'Baseline')
model_summary_frequency <- model_summary %>%
filter(Condition == 'Frequency')
model_summary_long <- model_summary %>%
pivot_longer(
cols = -c(Subnum, AIC, BIC, model, Condition, BestOption, BestOption_Baseline, training_accuracy),
names_to = "parameter",
values_to = "value"
) %>%
mutate(
Condition = as.factor(Condition),
model = as.factor(model),
Subnum = as.factor(Subnum)
)
wide_df <- model_summary_long %>%
dplyr::select(Subnum, Condition, parameter, value, model)%>%
pivot_wider(names_from = Condition, values_from = value)
model_list <- c('delta', 'delta_PVL', 'delta_asymmetric', 'decay', 'decay_PVL',
'decay_win')
model_list <- c('delta_asymmetric_decay_win')
model_list <- c('delta_decay_win', 'delta_decay_PVL_win', 'delta_asymmetric_decay_win')
model <- lmer(BIC ~ BestOption_Baseline + model + (1|Subnum), data = model_data)
model_list <- c('delta_decay_win', 'delta_decay_PVL_win', 'delta_asymmetric_decay_win')
model_data <- model_summary %>%
filter(model%in%model_list)
model <- lmer(BIC ~ BestOption_Baseline + model + (1|Subnum), data = model_data)
model_data <- model_summary_baseline %>%
filter(model%in%model_list)
model <- lmer(BIC ~ BestOption_Baseline + model + (1|Subnum), data = model_data)
model <- glm(BIC ~ BestOption_Baseline + model, data = model_data)
View(model_data)
model_summary <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/model_summary.csv")
# ==============================================================================
# Summary Data
# ==============================================================================
data <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/E2_summary_modeled.csv")
data$Condition <- factor(data$Condition, levels = c('Baseline', 'Frequency'))
data$TrialType <- factor(data$TrialType, levels = c('CA', 'AB', 'CD', 'CB', 'BD', 'AD'))
data$group_baseline <- factor(data$group_baseline, levels = c(1, 2, 3),
labels = c('Good Learner', 'Average Learner', 'Bad Learner'))
data$group_frequency <- factor(data$group_frequency, levels = c(1, 2, 3),
labels = c('Good Learner', 'Average Learner', 'Bad Learner'))
unique(data$group_frequency)
data$Gender <- factor(data$Gender, levels = c("Female", "Male", "Other", "Prefer not to answer"))
data$Ethnicity <- factor(data$Ethnicity, levels = c("Hispanic or Latino", "Not Hispanic or Latino","Prefer not to answer"))
data$Race <- factor(data$Race, levels = c("More than one Race", "White", "Asian",
"Prefer not to answer", "Black or African American",
"American Indian or Alaskan Native",
"Native Hawaiin or Other Pacific Islander"))
individual_data <- data %>%
dplyr::select(Subnum, group_baseline, prob1_baseline, prob2_baseline, prob3_baseline,
group_frequency, prob1_frequency, prob2_frequency, prob3_frequency,
Gender, Ethnicity, Race, Age, Big5O, Big5C,
Big5E, Big5A, Big5N, BISScore, CESDScore, ESIBF_disinhScore,
ESIBF_aggreScore, ESIBF_sScore, PSWQScore, STAITScore, STAISScore,
t, alpha, subj_weight,
t_All, alpha_All, subj_weight_All) %>%
distinct(Subnum, .keep_all = TRUE)
training <- data %>%
filter(TrialType%in%c('AB', 'CD'))
testing <- data %>%
filter(TrialType%in%c('CA', 'CB', 'BD', 'AD'))
BD <- data %>%
filter(TrialType == 'BD')
CB <- data %>%
filter(TrialType == 'CB')
AD <- data %>%
filter(TrialType == 'AD')
accuracy_wide <- data %>%
pivot_wider(id_cols = c(Subnum, TrialType, group_baseline, group_frequency,
C_diff, t_All, alpha_All, subj_weight_All),
names_from = Condition,
values_from = c(BestOption, training_accuracy, t, alpha, subj_weight))
accuracy_wide_CA <- accuracy_wide %>%
filter(TrialType == 'CA')
accuracy_wide_AB <- accuracy_wide %>%
filter(TrialType == 'AB')
CA <- data %>%
filter(TrialType == 'CA')%>%
left_join(accuracy_wide_CA %>% dplyr::select(Subnum, BestOption_Baseline),by = "Subnum")
model_summary <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/model_summary.csv")
model_summary <- model_summary %>%
left_join(CA %>% dplyr::select(Subnum, Condition, BestOption, BestOption_Baseline, training_accuracy),by = c("Subnum", "Condition"))
model_summary$Condition <- factor(model_summary$Condition, levels = c('Baseline', 'Frequency'))
model_summary_baseline <- model_summary %>%
filter(Condition == 'Baseline')
model_summary_frequency <- model_summary %>%
filter(Condition == 'Frequency')
model_summary_long <- model_summary %>%
pivot_longer(
cols = -c(Subnum, AIC, BIC, model, Condition, BestOption, BestOption_Baseline, training_accuracy),
names_to = "parameter",
values_to = "value"
) %>%
mutate(
Condition = as.factor(Condition),
model = as.factor(model),
Subnum = as.factor(Subnum)
)
wide_df <- model_summary_long %>%
dplyr::select(Subnum, Condition, parameter, value, model)%>%
pivot_wider(names_from = Condition, values_from = value)
model_list <- c('delta', 'delta_PVL', 'delta_asymmetric', 'decay', 'decay_PVL',
'decay_win')
model_list <- c('delta_asymmetric_decay_win')
model_list <- c('delta_decay_win', 'delta_decay_PVL_win', 'delta_asymmetric_decay_win')
model_list <- c('delta_decay_win')
model_data <- model_summary_baseline %>%
filter(model%in%model_list)
model_summary <- read.csv("C:/Users/zuire/PycharmProjects/GainLoss/data/model_summary.csv")
model_summary <- model_summary %>%
left_join(CA %>% dplyr::select(Subnum, Condition, BestOption, BestOption_Baseline, training_accuracy),by = c("Subnum", "Condition"))
model_summary$Condition <- factor(model_summary$Condition, levels = c('Baseline', 'Frequency'))
model_summary_baseline <- model_summary %>%
filter(Condition == 'Baseline')
model_summary_frequency <- model_summary %>%
filter(Condition == 'Frequency')
model_summary_long <- model_summary %>%
pivot_longer(
cols = -c(Subnum, AIC, BIC, model, Condition, BestOption, BestOption_Baseline, training_accuracy),
names_to = "parameter",
values_to = "value"
) %>%
mutate(
Condition = as.factor(Condition),
model = as.factor(model),
Subnum = as.factor(Subnum)
)
wide_df <- model_summary_long %>%
dplyr::select(Subnum, Condition, parameter, value, model)%>%
pivot_wider(names_from = Condition, values_from = value)
model_list <- c('delta_decay_win', 'delta_decay_PVL_win', 'delta_asymmetric_decay_win')
model_data <- model_summary_baseline %>%
filter(model%in%model_list)
model <- lmer(BIC ~ BestOption_Baseline + model + (1|Subnum), data = model_data)
model <- glm(BIC ~ BestOption_Baseline + model, data = model_data)
View(model_data)
model_list <- c('delta_decay_win', 'delta_decay_PVL_win', 'delta_asymmetric_decay_win')
View(model_data)
model_data <- model_summary_baseline %>%
filter(model%in%model_list)
model <- lmer(BIC ~ BestOption_Baseline + model + (1|Subnum), data = model_data)
model <- glm(BIC ~ BestOption_Baseline + model, data = model_data)
unique(model_data$model)
unique(model_summary_baseline$model)
model_list <- c('delta', 'delta_PVL', 'delta_asymmetric', 'decay', 'decay_PVL',
'decay_win')
model <- lmer(BIC ~ BestOption_Baseline + model + (1|Subnum), data = model_data)
model_data <- model_summary_baseline %>%
filter(model%in%model_list)
model <- lmer(BIC ~ BestOption_Baseline + model + (1|Subnum), data = model_data)
summary(model)
plot(allEffects(model))
model <- lmer(BIC ~ BestOption_Baseline * model + (1|Subnum), data = model_data)
summary(model)
plot(allEffects(model))
model <- glm(BIC ~ BestOption_Baseline * model, data = model_data)
summary(model)
plot(allEffects(model))
model <- lmer(BIC ~ BestOption_Baseline * model + (1|Subnum), data = model_data)
summary(model)
plot(allEffects(model))
model_data <- model_summary_frequency %>%
filter(model%in%model_list)
unique(model_summary_baseline$model)
model <- lmer(BIC ~ BestOption_Baseline * model + (1|Subnum), data = model_data)
summary(model)
plot(allEffects(model))
anova(model)
model_data <- model_summary_baseline %>%
filter(model%in%model_list)
model <- lmer(BIC ~ BestOption_Baseline * model + (1|Subnum), data = model_data)
summary(model)
anova(model)
